<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An implementation of a compiler which can compile WebAssembly functions to machine code and perform other miscellaneous tasks needed by the JIT runtime."><title>Compiler in wasmtime_environ - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-804b98a1284a310a.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="wasmtime_environ" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0-nightly (5ac4c8a63 2023-12-20)" data-channel="nightly" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../wasmtime_environ/index.html">wasmtime_environ</a><span class="version">8.0.1</span></h2></div><h2 class="location"><a href="#">Compiler</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.append_code">append_code</a></li><li><a href="#tymethod.append_dwarf">append_dwarf</a></li><li><a href="#tymethod.compile_function">compile_function</a></li><li><a href="#tymethod.compile_host_to_wasm_trampoline">compile_host_to_wasm_trampoline</a></li><li><a href="#tymethod.emit_trampoline_obj">emit_trampoline_obj</a></li><li><a href="#tymethod.flags">flags</a></li><li><a href="#tymethod.function_alignment">function_alignment</a></li><li><a href="#tymethod.is_branch_protection_enabled">is_branch_protection_enabled</a></li><li><a href="#tymethod.isa_flags">isa_flags</a></li><li><a href="#tymethod.triple">triple</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.create_systemv_cie">create_systemv_cie</a></li><li><a href="#method.object">object</a></li><li><a href="#method.page_size_align">page_size_align</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In crate wasmtime_environ</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../wasmtime_environ/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">wasmtime_environ</a>::<wbr><a class="trait" href="#">Compiler</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/wasmtime_environ/compilation.rs.html#160-324">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Compiler: <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a> + <a class="trait" href="__core/marker/trait.Sync.html" title="trait wasmtime_environ::__core::marker::Sync">Sync</a> {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 13 methods</span></summary>    // Required methods
    fn <a href="#tymethod.compile_function" class="fn">compile_function</a>(
        &amp;self,
        translation: &amp;<a class="struct" href="struct.ModuleTranslation.html" title="struct wasmtime_environ::ModuleTranslation">ModuleTranslation</a>&lt;'_&gt;,
        index: <a class="struct" href="struct.DefinedFuncIndex.html" title="struct wasmtime_environ::DefinedFuncIndex">DefinedFuncIndex</a>,
        data: <a class="struct" href="struct.FunctionBodyData.html" title="struct wasmtime_environ::FunctionBodyData">FunctionBodyData</a>&lt;'_&gt;,
        tunables: &amp;<a class="struct" href="struct.Tunables.html" title="struct wasmtime_environ::Tunables">Tunables</a>,
        types: &amp;<a class="struct" href="struct.ModuleTypes.html" title="struct wasmtime_environ::ModuleTypes">ModuleTypes</a>
    ) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;(<a class="struct" href="struct.WasmFunctionInfo.html" title="struct wasmtime_environ::WasmFunctionInfo">WasmFunctionInfo</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>&gt;), <a class="enum" href="enum.CompileError.html" title="enum wasmtime_environ::CompileError">CompileError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.compile_host_to_wasm_trampoline" class="fn">compile_host_to_wasm_trampoline</a>(
        &amp;self,
        ty: &amp;<a class="struct" href="struct.WasmFuncType.html" title="struct wasmtime_environ::WasmFuncType">WasmFuncType</a>
    ) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>&gt;, <a class="enum" href="enum.CompileError.html" title="enum wasmtime_environ::CompileError">CompileError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.append_code" class="fn">append_code</a>(
        &amp;self,
        obj: &amp;mut Object&lt;'static&gt;,
        funcs: &amp;[(<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>&gt;)],
        tunables: &amp;<a class="struct" href="struct.Tunables.html" title="struct wasmtime_environ::Tunables">Tunables</a>,
        resolve_reloc: &amp;dyn <a class="trait" href="__core/ops/trait.Fn.html" title="trait wasmtime_environ::__core::ops::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="struct.FuncIndex.html" title="struct wasmtime_environ::FuncIndex">FuncIndex</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>
    ) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(SymbolId, <a class="struct" href="struct.FunctionLoc.html" title="struct wasmtime_environ::FunctionLoc">FunctionLoc</a>)&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.emit_trampoline_obj" class="fn">emit_trampoline_obj</a>(
        &amp;self,
        ty: &amp;<a class="struct" href="struct.WasmFuncType.html" title="struct wasmtime_environ::WasmFuncType">WasmFuncType</a>,
        host_fn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
        obj: &amp;mut Object&lt;'static&gt;
    ) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;(<a class="struct" href="struct.FunctionLoc.html" title="struct wasmtime_environ::FunctionLoc">FunctionLoc</a>, <a class="struct" href="struct.FunctionLoc.html" title="struct wasmtime_environ::FunctionLoc">FunctionLoc</a>)&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.triple" class="fn">triple</a>(&amp;self) -&gt; &amp;<a class="struct" href="../target_lexicon/triple/struct.Triple.html" title="struct target_lexicon::triple::Triple">Triple</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.flags" class="fn">flags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.FlagValue.html" title="enum wasmtime_environ::FlagValue">FlagValue</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.isa_flags" class="fn">isa_flags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.FlagValue.html" title="enum wasmtime_environ::FlagValue">FlagValue</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_branch_protection_enabled" class="fn">is_branch_protection_enabled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.append_dwarf" class="fn">append_dwarf</a>(
        &amp;self,
        obj: &amp;mut Object&lt;'_&gt;,
        translation: &amp;<a class="struct" href="struct.ModuleTranslation.html" title="struct wasmtime_environ::ModuleTranslation">ModuleTranslation</a>&lt;'_&gt;,
        funcs: &amp;<a class="struct" href="struct.PrimaryMap.html" title="struct wasmtime_environ::PrimaryMap">PrimaryMap</a>&lt;<a class="struct" href="struct.DefinedFuncIndex.html" title="struct wasmtime_environ::DefinedFuncIndex">DefinedFuncIndex</a>, (SymbolId, &amp;(dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>))&gt;
    ) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.function_alignment" class="fn">function_alignment</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>;

    // Provided methods
    fn <a href="#method.object" class="fn">object</a>(&amp;self, kind: <a class="enum" href="enum.ObjectKind.html" title="enum wasmtime_environ::ObjectKind">ObjectKind</a>) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Object&lt;'static&gt;&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.page_size_align" class="fn">page_size_align</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.create_systemv_cie" class="fn">create_systemv_cie</a>(&amp;self) -&gt; <a class="enum" href="__core/option/enum.Option.html" title="enum wasmtime_environ::__core::option::Option">Option</a>&lt;CommonInformationEntry&gt; { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An implementation of a compiler which can compile WebAssembly functions to
machine code and perform other miscellaneous tasks needed by the JIT runtime.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.compile_function" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#166-173">source</a><h4 class="code-header">fn <a href="#tymethod.compile_function" class="fn">compile_function</a>(
    &amp;self,
    translation: &amp;<a class="struct" href="struct.ModuleTranslation.html" title="struct wasmtime_environ::ModuleTranslation">ModuleTranslation</a>&lt;'_&gt;,
    index: <a class="struct" href="struct.DefinedFuncIndex.html" title="struct wasmtime_environ::DefinedFuncIndex">DefinedFuncIndex</a>,
    data: <a class="struct" href="struct.FunctionBodyData.html" title="struct wasmtime_environ::FunctionBodyData">FunctionBodyData</a>&lt;'_&gt;,
    tunables: &amp;<a class="struct" href="struct.Tunables.html" title="struct wasmtime_environ::Tunables">Tunables</a>,
    types: &amp;<a class="struct" href="struct.ModuleTypes.html" title="struct wasmtime_environ::ModuleTypes">ModuleTypes</a>
) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;(<a class="struct" href="struct.WasmFunctionInfo.html" title="struct wasmtime_environ::WasmFunctionInfo">WasmFunctionInfo</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>&gt;), <a class="enum" href="enum.CompileError.html" title="enum wasmtime_environ::CompileError">CompileError</a>&gt;</h4></section></summary><div class="docblock"><p>Compiles the function <code>index</code> within <code>translation</code>.</p>
<p>The body of the function is available in <code>data</code> and configuration
values are also passed in via <code>tunables</code>. Type information in
<code>translation</code> is all relative to <code>types</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.compile_host_to_wasm_trampoline" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#177-180">source</a><h4 class="code-header">fn <a href="#tymethod.compile_host_to_wasm_trampoline" class="fn">compile_host_to_wasm_trampoline</a>(
    &amp;self,
    ty: &amp;<a class="struct" href="struct.WasmFuncType.html" title="struct wasmtime_environ::WasmFuncType">WasmFuncType</a>
) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>&gt;, <a class="enum" href="enum.CompileError.html" title="enum wasmtime_environ::CompileError">CompileError</a>&gt;</h4></section></summary><div class="docblock"><p>Creates a function of type <code>VMTrampoline</code> which will then call the
function pointer argument which has the <code>ty</code> type provided.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.append_code" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#204-210">source</a><h4 class="code-header">fn <a href="#tymethod.append_code" class="fn">append_code</a>(
    &amp;self,
    obj: &amp;mut Object&lt;'static&gt;,
    funcs: &amp;[(<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>&gt;)],
    tunables: &amp;<a class="struct" href="struct.Tunables.html" title="struct wasmtime_environ::Tunables">Tunables</a>,
    resolve_reloc: &amp;dyn <a class="trait" href="__core/ops/trait.Fn.html" title="trait wasmtime_environ::__core::ops::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="struct.FuncIndex.html" title="struct wasmtime_environ::FuncIndex">FuncIndex</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>
) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(SymbolId, <a class="struct" href="struct.FunctionLoc.html" title="struct wasmtime_environ::FunctionLoc">FunctionLoc</a>)&gt;&gt;</h4></section></summary><div class="docblock"><p>Appends a list of compiled functions to an in-memory object.</p>
<p>This function will receive the same <code>Box&lt;dyn Any&gt;</code> produced as part of
compilation from functions like <code>compile_function</code>,
<code>compile_host_to_wasm_trampoline</code>, and other component-related shims.
Internally this will take all of these functions and add information to
the object such as:</p>
<ul>
<li>Compiled code in a <code>.text</code> section</li>
<li>Unwind information in Wasmtime-specific sections</li>
<li>Relocations, if necessary, for the text section</li>
</ul>
<p>Each function is accompanied with its desired symbol name and the return
value of this function is the symbol for each function as well as where
each function was placed within the object.</p>
<p>The <code>resolve_reloc</code> argument is intended to resolving relocations
between function, chiefly resolving intra-module calls within one core
wasm module. The closure here takes two arguments: first the index
within <code>funcs</code> that is being resolved and next the <code>FuncIndex</code> which is
the relocation target to resolve. The return value is an index within
<code>funcs</code> that the relocation points to.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.emit_trampoline_obj" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#219-224">source</a><h4 class="code-header">fn <a href="#tymethod.emit_trampoline_obj" class="fn">emit_trampoline_obj</a>(
    &amp;self,
    ty: &amp;<a class="struct" href="struct.WasmFuncType.html" title="struct wasmtime_environ::WasmFuncType">WasmFuncType</a>,
    host_fn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    obj: &amp;mut Object&lt;'static&gt;
) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;(<a class="struct" href="struct.FunctionLoc.html" title="struct wasmtime_environ::FunctionLoc">FunctionLoc</a>, <a class="struct" href="struct.FunctionLoc.html" title="struct wasmtime_environ::FunctionLoc">FunctionLoc</a>)&gt;</h4></section></summary><div class="docblock"><p>Inserts two functions for host-to-wasm and wasm-to-host trampolines into
the <code>obj</code> provided.</p>
<p>This will configure the same sections as <code>emit_obj</code>, but will likely be
much smaller. The two returned <code>Trampoline</code> structures describe where to
find the host-to-wasm and wasm-to-host trampolines in the text section,
respectively.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.triple" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#266">source</a><h4 class="code-header">fn <a href="#tymethod.triple" class="fn">triple</a>(&amp;self) -&gt; &amp;<a class="struct" href="../target_lexicon/triple/struct.Triple.html" title="struct target_lexicon::triple::Triple">Triple</a></h4></section></summary><div class="docblock"><p>Returns the target triple that this compiler is compiling for.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.flags" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#290">source</a><h4 class="code-header">fn <a href="#tymethod.flags" class="fn">flags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.FlagValue.html" title="enum wasmtime_environ::FlagValue">FlagValue</a>&gt;</h4></section></summary><div class="docblock"><p>Returns a list of configured settings for this compiler.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.isa_flags" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#293">source</a><h4 class="code-header">fn <a href="#tymethod.isa_flags" class="fn">isa_flags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.FlagValue.html" title="enum wasmtime_environ::FlagValue">FlagValue</a>&gt;</h4></section></summary><div class="docblock"><p>Same as <a href="trait.Compiler.html#tymethod.flags" title="method wasmtime_environ::Compiler::flags"><code>Compiler::flags</code></a>, but ISA-specific (a cranelift-ism)</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_branch_protection_enabled" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#296">source</a><h4 class="code-header">fn <a href="#tymethod.is_branch_protection_enabled" class="fn">is_branch_protection_enabled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Get a flag indicating whether branch protection is enabled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.append_dwarf" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#307-312">source</a><h4 class="code-header">fn <a href="#tymethod.append_dwarf" class="fn">append_dwarf</a>(
    &amp;self,
    obj: &amp;mut Object&lt;'_&gt;,
    translation: &amp;<a class="struct" href="struct.ModuleTranslation.html" title="struct wasmtime_environ::ModuleTranslation">ModuleTranslation</a>&lt;'_&gt;,
    funcs: &amp;<a class="struct" href="struct.PrimaryMap.html" title="struct wasmtime_environ::PrimaryMap">PrimaryMap</a>&lt;<a class="struct" href="struct.DefinedFuncIndex.html" title="struct wasmtime_environ::DefinedFuncIndex">DefinedFuncIndex</a>, (SymbolId, &amp;(dyn <a class="trait" href="__core/any/trait.Any.html" title="trait wasmtime_environ::__core::any::Any">Any</a> + <a class="trait" href="__core/marker/trait.Send.html" title="trait wasmtime_environ::__core::marker::Send">Send</a>))&gt;
) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Appends generated DWARF sections to the <code>obj</code> specified for the compiled
functions.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.function_alignment" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#315">source</a><h4 class="code-header">fn <a href="#tymethod.function_alignment" class="fn">function_alignment</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a></h4></section></summary><div class="docblock"><p>The function alignment required by this ISA.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.object" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#232-263">source</a><h4 class="code-header">fn <a href="#method.object" class="fn">object</a>(&amp;self, kind: <a class="enum" href="enum.ObjectKind.html" title="enum wasmtime_environ::ObjectKind">ObjectKind</a>) -&gt; <a class="type" href="../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Object&lt;'static&gt;&gt;</h4></section></summary><div class="docblock"><p>Creates a new <code>Object</code> file which is used to build the results of a
compilation into.</p>
<p>The returned object file will have an appropriate
architecture/endianness for <code>self.triple()</code>, but at this time it is
always an ELF file, regardless of target platform.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.page_size_align" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#272-287">source</a><h4 class="code-header">fn <a href="#method.page_size_align" class="fn">page_size_align</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section></summary><div class="docblock"><p>Returns the alignment necessary to align values to the page size of the
compilation target. Note that this may be an upper-bound where the
alignment is larger than necessary for some platforms since it may
depend on the platform’s runtime configuration.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.create_systemv_cie" class="method"><a class="src rightside" href="../src/wasmtime_environ/compilation.rs.html#320-323">source</a><h4 class="code-header">fn <a href="#method.create_systemv_cie" class="fn">create_systemv_cie</a>(&amp;self) -&gt; <a class="enum" href="__core/option/enum.Option.html" title="enum wasmtime_environ::__core::option::Option">Option</a>&lt;CommonInformationEntry&gt;</h4></section></summary><div class="docblock"><p>Creates a new System V Common Information Entry for the ISA.</p>
<p>Returns <code>None</code> if the ISA does not support System V unwind information.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../trait.impl/wasmtime_environ/compilation/trait.Compiler.js" async></script></section></div></main></body></html>